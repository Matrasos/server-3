<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Документация API</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .content {
            margin-top: 20px;
        }
        .code-block {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }
        .code-block pre {
            margin: 0;
            font-size: 0.9em;
        }
        .code-block h3 {
            margin-top: 20px;
        }
    </style>
</head>
<body>

<!-- Включаем navbar -->
{% include 'includes/navbar.html' %}

<div class="container content">
    <h1 class="mb-4">Документация API</h1>

    <h2>Интеграция API для подписки на штормовые предупреждения</h2>
    <p>Партнерские приложения могут подписаться на получение уведомлений о штормовых предупреждениях, отправив POST-запрос на следующий URL:</p>
    <div class="code-block">
        <pre><code>POST /api/subscribe</code></pre>
    </div>

    <h3>Пример запроса</h3>
    <div class="code-block">
        <pre><code>{
    "email": "partner@example.com",
    "endpoint": "https://partner.example.com/api/receive_warning"
}</code></pre>
    </div>

    <h3>Описание полей</h3>
    <ul>
        <li><strong>email</strong>: Электронная почта подписчика.</li>
        <li><strong>endpoint</strong>: URL-адрес, на который будут отправляться уведомления.</li>
    </ul>

    <h3>Пример ответа на успешную подписку</h3>
    <div class="code-block">
        <pre><code>{
    "message": "Успешная подписка"
}</code></pre>
    </div>

    <h3>Обработка уведомлений</h3>
    <p>Когда возникает штормовое предупреждение, уведомления будут отправляться на указанный <code>endpoint</code> в следующем формате:</p>
    <div class="code-block">
        <pre><code>{
    "message": "Штормовое предупреждение для Петропавловск в СКО\nДата: 25 мая 2024 года\nВремя: 14:00\nОписание: Сильный ветер и дождь."
}</code></pre>
    </div>
</div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<!-- Bootstrap JS -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
